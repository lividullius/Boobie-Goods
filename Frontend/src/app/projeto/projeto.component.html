<div class="container py-4">
  <!-- Cabeçalho -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0">Projetos</h2>

    <!-- Botão que abre o modal -->
    <button class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#modalCriarProjeto">
      Criar projeto
    </button>
  </div>

  <!-- Card / Tabela -->
  <div class="card shadow-sm">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>Nome</th>
            <th>Início</th>
            <th>Fim</th>
            <th>Descrição</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of projetos">
            <td>{{ p.nome }}</td>
            <td>{{ p.dataInicio | date:'dd/MM/yyyy' }}</td>
            <td>{{ p.dataFim    | date:'dd/MM/yyyy' }}</td>
            <td>{{ p.descricao }}</td>
          </tr>
          <tr *ngIf="!projetos?.length">
            <td colspan="4" class="text-center text-muted py-4">
              Nenhum projeto cadastrado.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- MODAL BOOTSTRAP -->
<div class="modal fade" id="modalCriarProjeto" tabindex="-1" aria-labelledby="modalCriarProjetoLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="modalCriarProjetoLabel">Novo Projeto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>

      <form [formGroup]="form" (ngSubmit)="salvar()">
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Nome*</label>
            <input type="text" class="form-control" formControlName="nome" maxlength="100">
          </div>

          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Data início*</label>
              <input type="date" class="form-control" formControlName="dataInicio">
            </div>
            <div class="col-md-6">
              <label class="form-label">Data fim</label>
              <input type="date" class="form-control" formControlName="dataFim">
            </div>
          </div>

          <div class="mt-3">
            <label class="form-label">Descrição</label>
            <textarea rows="3" class="form-control" formControlName="descricao" maxlength="255"></textarea>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
      </form>

    </div>
  </div>
</div>
